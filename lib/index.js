"use strict";function e(e,t){return e(t={exports:{}},t.exports),t.exports}require("core-js/modules/es.object.to-string.js"),require("core-js/modules/es.promise.js"),require("core-js/modules/es.parse-int.js"),require("core-js/modules/es.array.for-each.js"),require("core-js/modules/web.dom-collections.for-each.js"),require("core-js/modules/es.date.to-string.js"),require("core-js/modules/es.regexp.exec.js"),require("core-js/modules/es.string.match.js"),require("core-js/modules/es.string.replace.js"),require("core-js/modules/es.array.includes.js"),require("core-js/modules/es.array.map.js");var t=e((function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)})),r=e((function(e){var t=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)}));r.version;var n=function(e){return"object"==typeof e?null!==e:"function"==typeof e},o=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e},i=function(e){try{return!!e()}catch(e){return!0}},u=!i((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),c=t.document,a=n(c)&&n(c.createElement),s=!u&&!i((function(){return 7!=Object.defineProperty((e="div",a?c.createElement(e):{}),"a",{get:function(){return 7}}).a;var e})),f=Object.defineProperty,l={f:u?Object.defineProperty:function(e,t,r){if(o(e),t=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}(t,!0),o(r),s)try{return f(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},p=u?function(e,t,r){return l.f(e,t,function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}(1,r))}:function(e,t,r){return e[t]=r,e},m={}.hasOwnProperty,g=function(e,t){return m.call(e,t)},d=0,v=Math.random(),h=e((function(e){var n="__core-js_shared__",o=t[n]||(t[n]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})}))("native-function-to-string",Function.toString),y=e((function(e){var n,o="Symbol(".concat(void 0===(n="src")?"":n,")_",(++d+v).toString(36)),i="toString",u=(""+h).split(i);r.inspectSource=function(e){return h.call(e)},(e.exports=function(e,r,n,i){var c="function"==typeof n;c&&(g(n,"name")||p(n,"name",r)),e[r]!==n&&(c&&(g(n,o)||p(n,o,e[r]?""+e[r]:u.join(String(r)))),e===t?e[r]=n:i?e[r]?e[r]=n:p(e,r,n):(delete e[r],p(e,r,n)))})(Function.prototype,i,(function(){return"function"==typeof this&&this[o]||h.call(this)}))})),b=function(e,t,r){if(function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!")}(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}},j=function(e,n,o){var i,u,c,a,s=e&j.F,f=e&j.G,l=e&j.S,m=e&j.P,g=e&j.B,d=f?t:l?t[n]||(t[n]={}):(t[n]||{}).prototype,v=f?r:r[n]||(r[n]={}),h=v.prototype||(v.prototype={});for(i in f&&(o=n),o)c=((u=!s&&d&&void 0!==d[i])?d:o)[i],a=g&&u?b(c,t):m&&"function"==typeof c?b(Function.call,c):c,d&&y(d,i,c,e&j.U),v[i]!=c&&p(v,i,a),m&&h[i]!=c&&(h[i]=c)};t.core=r,j.F=1,j.G=2,j.S=4,j.P=8,j.B=16,j.W=32,j.U=64,j.R=128;var w=j,S=t.navigator,I=S&&S.userAgent||"",_=[].slice,E=/MSIE .\./.test(I),A=function(e){return function(t,r){var n=arguments.length>2,o=!!n&&_.call(arguments,2);return e(n?function(){("function"==typeof t?t:Function(t)).apply(this,o)}:t,r)}};function T(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}w(w.G+w.B+w.F*E,{setTimeout:A(t.setTimeout),setInterval:A(t.setInterval)});var q=[],P={_getImgSrcFromBgImg:function(e){var t,r=e.match(/url\(.*?\)/g);if(r&&r.length){var n=r[r.length-1].replace(/^url\([\'\"]?/,"").replace(/[\'\"]?\)$/,"");(/^http/.test(n)||/^\/\//.test(n))&&(t=n)}return t},getImgSrcFromDom:function(e,t){if(!(e.getBoundingClientRect&&e.getBoundingClientRect().top<window.innerHeight))return!1;var r;if(t=[/(\.)(png|jpg|jpeg|gif|webp|ico|bmp|tiff|svg)/i],"IMG"==e.nodeName.toUpperCase())r=e.getAttribute("src");else{var n=window.getComputedStyle(e),o=n.getPropertyValue("background-image")||n.getPropertyValue("background"),i=this._getImgSrcFromBgImg(o,t);i&&this._isImg(i,t)&&(r=i)}return r},_isImg:function(e,t){for(var r=0,n=t.length;r<n;r++)if(t[r].test(e))return!0;return!1},getImageSrc:function(e){var t=e.tagName;if("SCRIPT"!==t&&"STYLE"!==t&&"META"!==t&&"HEAD"!==t){var r=this.getImgSrcFromDom(e);r&&!q.includes(r)&&q.push(r);var n=e.children?e.children.length:0;if(n>0)for(var o=e.children,i=n-1;i>=0;i--)this.getImageSrc(o[i])}}};function F(e,t,r){var n=0,o=window.screen.height,i=e.tagName;if("SCRIPT"!==i&&"STYLE"!==i&&"META"!==i&&"HEAD"!==i){var u=e.children?e.children.length:0;if(u>0)for(var c=e.children,a=u-1;a>=0;a--)n+=F(c[a],t+1,n>0);if(n<=0&&!r&&!(e.getBoundingClientRect&&e.getBoundingClientRect().top<o))return 0;n+=1+.5*t}return n}module.exports=function(e){var t,r,n=e.eleSelector,o=void 0===n?"body":n,i=e.intervalTime,u=void 0===i?100:i,c=e.totalTime,a=void 0===c?2e3:c,s=window.performance.timing,f=window.document,l=window.MutationObserver||window.WebKitMutationObserver,p=[],m=0;return new Promise((function(e){function n(t){r=setInterval((function(){if(m++,t(),m>Math.floor(a/u)){i();for(var r=0,n=0,o=1;o<p.length;o++)p[o].num-p[o-1].num>n&&(n=p[o].num-p[o-1].num,r=o);var c=(P.getImageSrc(document.body),Math.max.apply(Math,T(q.map((function(e){/^(\/\/)/.test(e)&&(e="https:"+e);try{return performance.getEntriesByName(e)[0].responseEnd||0}catch(e){return 0}}))))),f=p[r].time-s.navigationStart;e(c>f?parseInt(c):parseInt(f))}}),u)}function i(){m=0,clearInterval(r)}var c,g,d;c=o,g=function(){var e={num:F(f.querySelectorAll(o)[0],0),time:(new Date).getTime()};p.push(e)},d=f.querySelectorAll(c)[0],t||(g(),n(g),(t=new l((function(e){e.forEach((function(){i(),n(g),g()}))}))).observe(d,{childList:!0,subtree:!0}))}))};
